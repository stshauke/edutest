{# templates/home/index.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}EduTest – Plateforme d'examens en ligne{% endblock %}

{% block body %}
  {# HERO PRINCIPAL #}
  <section class="py-5 py-lg-6 bg-primary bg-gradient text-light">
    <div class="container">
      <div class="row align-items-center g-4 mt-5">
        <div class="col-lg-7">
          <p class="text-uppercase mb-2 small text-white-50 fw-semibold">
            Plateforme d’évaluation en ligne
          </p>
          <h1 class="display-5 fw-bold mb-3">
            Organisez vos examens en ligne<br>
            avec <span class="text-warning">EduTest</span>
          </h1>
          <p class="lead text-white-75 mb-4">
            Création d’examens, passation sécurisée par les étudiants, correction automatique des QCM
            et statistiques claires pour les enseignants.
          </p>

          <div class="d-flex flex-wrap gap-2 mb-3">
            <a href="{{ path('app_login') }}" class="btn btn-light btn-lg px-4">
              <i class="bi bi-box-arrow-in-right me-1"></i>
              Se connecter
            </a>
            <a href="{{ path('app_register') }}" class="btn btn-outline-light btn-lg px-4">
              <i class="bi bi-person-plus me-1"></i>
              Créer un compte
            </a>
          </div>

          <p class="small text-white-50 mb-0">
            Déjà utilisée par <span class="fw-semibold text-white">+200</span> étudiants et
            <span class="fw-semibold text-white">+10</span> enseignants.
          </p>
        </div>

        <div class="col-lg-5">
          <div class="card border-0 shadow-lg rounded-4 bg-white text-dark">
            <div class="card-body p-4">
              <h2 class="h5 fw-semibold mb-3">
                Pourquoi choisir <span class="text-primary">EduTest</span> ?
              </h2>

              <ul class="list-unstyled mb-0">
                <li class="d-flex mb-3">
                  <div class="me-3 text-primary">
                    <i class="bi bi-check-circle-fill fs-5"></i>
                  </div>
                  <div>
                    <div class="fw-semibold">Gain de temps pour les enseignants</div>
                    <div class="text-muted small">
                      Création d’examens, duplication, affectation aux groupes et correction automatique des QCM.
                    </div>
                  </div>
                </li>

                <li class="d-flex mb-3">
                  <div class="me-3 text-primary">
                    <i class="bi bi-shield-lock-fill fs-5"></i>
                  </div>
                  <div>
                    <div class="fw-semibold">Passation encadrée</div>
                    <div class="text-muted small">
                      Durée limitée, fenêtre de passage, une seule tentative par étudiant, sauvegarde des réponses.
                    </div>
                  </div>
                </li>

                <li class="d-flex">
                  <div class="me-3 text-primary">
                    <i class="bi bi-bar-chart-line-fill fs-5"></i>
                  </div>
                  <div>
                    <div class="fw-semibold">Suivi des résultats</div>
                    <div class="text-muted small">
                      Notes par étudiant, statistiques par examen, export CSV/PDF pour archivage.
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  {# SECTION FONCTIONNALITÉS #}
  <section class="py-5 bg-light">
    <div class="container">
      <div class="text-center mb-4">
        <h2 class="h3 fw-bold mb-2">Pensé pour les enseignants et les étudiants</h2>
        <p class="text-muted mb-0">
          Un outil simple à prendre en main, adapté aux examens de BTS, Licence Pro et Master.
        </p>
      </div>

      <div class="row g-4">
        <div class="col-md-4">
          <div class="card h-100 border-0 shadow-sm rounded-4">
            <div class="card-body">
              <div class="mb-3 text-primary">
                <i class="bi bi-journal-plus fs-1"></i>
              </div>
              <h3 class="h5 fw-semibold">Création d’examens</h3>
              <p class="text-muted small mb-0">
                Définissez le titre, la durée, la période, ajoutez des questions QCM ou texte libre,
                et affectez-les aux étudiants en quelques clics.
              </p>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card h-100 border-0 shadow-sm rounded-4">
            <div class="card-body">
              <div class="mb-3 text-primary">
                <i class="bi bi-laptop fs-1"></i>
              </div>
              <h3 class="h5 fw-semibold">Passation étudiante</h3>
              <p class="text-muted small mb-0">
                Interface claire avec minuterie, gestion des réponses, validation finale unique
                et accès ultérieur au détail de la copie.
              </p>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card h-100 border-0 shadow-sm rounded-4">
            <div class="card-body">
              <div class="mb-3 text-primary">
                <i class="bi bi-clipboard-data fs-1"></i>
              </div>
              <h3 class="h5 fw-semibold">Correction & statistiques</h3>
              <p class="text-muted small mb-0">
                Correction automatique des QCM, calcul des moyennes, écart-types et export des résultats en CSV ou PDF.
              </p>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

  {# SECTION "COMMENT ÇA MARCHE" #}
  <section class="py-5">
    <div class="container">
      <div class="text-center mb-4">
        <h2 class="h4 fw-bold mb-2">Comment ça marche ?</h2>
        <p class="text-muted small mb-0">
          Trois étapes simples pour mettre en place vos examens en ligne.
        </p>
      </div>

      <div class="row g-4 align-items-center">
        <div class="col-lg-4">
          <div class="d-flex mb-3">
            <div class="me-3 text-primary fw-bold fs-4">1</div>
            <div>
              <div class="fw-semibold">L’enseignant crée l’examen</div>
              <div class="text-muted small">
                Il choisit les questions, la durée, la période, puis affecte l’examen à une promotion ou à des étudiants.
              </div>
            </div>
          </div>

          <div class="d-flex mb-3">
            <div class="me-3 text-primary fw-bold fs-4">2</div>
            <div>
              <div class="fw-semibold">L’étudiant passe l’épreuve</div>
              <div class="text-muted small">
                Il se connecte, voit les examens disponibles, répond aux questions dans le temps imparti et soumet.
              </div>
            </div>
          </div>

          <div class="d-flex">
            <div class="me-3 text-primary fw-bold fs-4">3</div>
            <div>
              <div class="fw-semibold">Les résultats sont disponibles</div>
              <div class="text-muted small">
                La plateforme corrige les QCM, calcule les notes et génère des statistiques pour l’enseignant.
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-8">
          <div class="card border-0 shadow-sm rounded-4">
            <div class="card-body">
              <div class="row text-center">
                <div class="col-4 border-end">
                  <div class="fw-bold fs-4 text-primary">+200</div>
                  <div class="small text-muted">Étudiants</div>
                </div>
                <div class="col-4 border-end">
                  <div class="fw-bold fs-4 text-primary">+10</div>
                  <div class="small text-muted">Enseignants</div>
                </div>
                <div class="col-4">
                  <div class="fw-bold fs-4 text-primary">+50</div>
                  <div class="small text-muted">Examens gérés</div>
                </div>
              </div>
              <hr>
              <p class="small text-muted mb-0 text-center">
                EduTest fonctionne en local (localhost) avec Symfony / MySQL, idéal pour les projets pédagogiques de niveau Bac+2 à Bac+5.
              </p>
            </div>
          </div>
        </div>

      </div>

    </div>
  </section>
{% endblock %}

{% block stylesheets %}
<style>
.bg-custom-purple {
    background-color: #4A206A !important;
}
body {
  scroll-behavior: smooth;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}
.hero {
  background: linear-gradient(to right, rgba(0, 51, 102, 0.85), rgba(0, 102, 204, 0.85)),
              url('https://previews.123rf.com/images/annastills/annastills2307/annastills230700046/208165604-group-of-students-studying-together-in-the-library-they-using-gadgets-during-their-teamwork.jpg') center/cover;
  min-height: 90vh;
  color: #fff;
  margin-top: 75px;
}
.stats-section {
  background: linear-gradient(135deg, #0d6efd, #198754);
}
.card:hover {
  transform: translateY(-6px);
  box-shadow: 0 10px 25px rgba(0,0,0,0.1);
  transition: all 0.3s ease-in-out;
}
.cta {
  background: linear-gradient(to right, #0d6efd, #20c997);
}
.footer {
  background-color: #0d6efd;
  position: relative;
  bottom: 0;
  width: 100%;
}
  /* coins un peu plus arrondis partout */
  .card.rounded-4 {
    border-radius: 1rem;
  }

  .btn.btn-lg {
    border-radius: 999px;
  }
</style>
{% endblock %}

{% block javascripts %}
<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<script>
AOS.init({ duration: 800, once: true });
document.querySelectorAll('.counter').forEach(counter => {
  const target = +counter.dataset.count;
  let count = 0;
  const step = target / 80;
  const update = () => {
    count += step;
    counter.textContent = Math.floor(count);
    if (count < target) requestAnimationFrame(update);
    else counter.textContent = target;
  };
  update();
});
</script>
{% endblock %}
