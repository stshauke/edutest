{% extends 'base.html.twig' %}
 
{% block title %}EduTest ‚Äî Plateforme d'√©valuation moderne{% endblock %}
 
{% block body %}
 
<!-- üü¶ HERO -->
<section class="hero d-flex align-items-center text-center text-white">
<div class="container">
<h1 class="fw-bold display-4 mb-3" data-aos="fade-up">
      Bienvenue sur <span class="text-highlight">EduTest</span>
</h1>
<p class="lead mb-4 text-muted" data-aos="fade-up" data-aos-delay="100">
      La plateforme d‚Äô√©valuation moderne pour apprendre, enseigner et progresser ensemble.
</p>
 
    {% if not app.user %}
<div class="d-flex justify-content-center gap-3 flex-wrap" data-aos="fade-up" data-aos-delay="200">
<a href="{{ path('app_login') }}" class="btn btn-lg btn-custom fw-semibold px-4 py-2">
<i class="fa-solid fa-lock"></i> Se connecter
</a>
<a href="{{ path('app_register') }}" class="btn btn-lg btn-outline-light fw-semibold px-4 py-2 border-0">
<i class="fa-solid fa-pen-to-square"></i> S'inscrire
</a>
</div>
    {% endif %}
</div>
</section>
 
<!-- üí° FEATURES -->
<section id="features" class="features-section py-5">
<div class="container">
<div class="text-center mb-5">
<h2 class="fw-bold text-primary-light" data-aos="fade-up">
<i class="fa-solid fa-rocket"></i> Pourquoi choisir EduTest ?
</h2>
<p class="text-muted" data-aos="fade-up" data-aos-delay="100">
        Une solution intuitive, rapide et compl√®te pour simplifier vos examens.
</p>
</div>
 
    <div class="row g-4">
      {% set features = [
        {'icon':'<i class="fa-solid fa-laptop-code"></i>','title':'Interface intuitive','text':'Une exp√©rience fluide et agr√©able pour enseignants et √©tudiants.'},
        {'icon':'<i class="fa-solid fa-bolt"></i>','title':'Correction automatique','text':'Les r√©sultats sont calcul√©s instantan√©ment gr√¢ce √† un syst√®me intelligent.'},
        {'icon':'<i class="fa-solid fa-chart-column"></i>','title':'Suivi des performances','text':'Des statistiques claires pour suivre la progression des √©l√®ves.'}
      ] %}
      {% for f in features %}
<div class="col-md-4" data-aos="fade-up" data-aos-delay="{{ loop.index * 100 }}">
<div class="card card-glass text-center h-100 p-4">
<div class="icon mb-3" style="font-size:2.5rem; color: var(--primary-light);">
              {{ f.icon|raw }}
</div>
<h5 class="fw-semibold">{{ f.title }}</h5>
<p class="text-muted">{{ f.text }}</p>
</div>
</div>
      {% endfor %}
</div>
</div>
</section>
 
<!-- üìà STATS -->
<section id="stats" class="stats-section text-white text-center py-5">
<div class="container" data-aos="zoom-in">
<div class="row g-4">
      {% set stats = [
        {'count':350, 'label':'√âtudiants actifs'},
        {'count':42, 'label':'Examens cr√©√©s'},
        {'count':1250, 'label':'Copies corrig√©es'},
        {'count':98, 'label':'% de satisfaction'}
      ] %}
      {% for s in stats %}
<div class="col-md-3">
<h2 class="fw-bold counter" data-count="{{ s.count }}">0</h2>
<p class="text-bright">{{ s.label }}</p>
</div>
      {% endfor %}
</div>
</div>
</section>
 
<!-- üí¨ TESTIMONIALS -->
<section id="testimonials" class="testimonials-section py-5">
<div class="container">
<div class="text-center mb-5">
<h2 class="fw-bold text-primary-light" data-aos="fade-up">
<i class="fa-solid fa-comments"></i> T√©moignages
</h2>
<p class="text-muted" data-aos="fade-up" data-aos-delay="100">
        Ils utilisent EduTest au quotidien et partagent leur exp√©rience.
</p>
</div>
 
    <div class="row g-4">
      {% set testimonials = [
        {'name':'Marie Dupont','role':'Professeure de Math√©matiques','text':'EduTest a transform√© ma mani√®re d‚Äô√©valuer mes √©l√®ves. Plus rapide, plus clair, plus juste !','img':'https://randomuser.me/api/portraits/women/44.jpg'},
        {'name':'Lucas Bernard','role':'√âtudiant en Sciences','text':'Gr√¢ce √† EduTest, je peux suivre mes r√©sultats instantan√©ment et voir o√π je dois progresser.','img':'https://randomuser.me/api/portraits/men/46.jpg'},
        {'name':'Paul Moreau','role':'Enseignant en Physique','text':'Simple, √©l√©gant et efficace. Je gagne un temps pr√©cieux pour mes classes.','img':'https://randomuser.me/api/portraits/men/33.jpg'}
      ] %}
      {% for t in testimonials %}
<div class="col-md-4" data-aos="fade-up" data-aos-delay="{{ loop.index * 100 }}">
<div class="card card-glass text-start p-4 h-100">
<p class="fst-italic text-muted">‚Äú{{ t.text }}‚Äù</p>
<div class="d-flex align-items-center mt-3">
<img src="{{ t.img }}" class="rounded-circle me-3" width="50">
<div>
<strong>{{ t.name }}</strong><br>
<small class="text-muted">{{ t.role }}</small>
</div>
</div>
</div>
</div>
      {% endfor %}
</div>
</div>
</section>
 
<!-- ‚úÖ CTA -->
<section id="cta" class="cta text-center text-white py-5">
<div class="container" data-aos="zoom-in">
    {% if app.user %}
      {% if 'ROLE_TEACHER' in app.user.roles %}
<h2 class="fw-bold mb-3">Bienvenue, {{ app.user.fullName|default('Enseignant') }}</h2>
<p class="mb-4 text-bright">Acc√©dez √† votre tableau de bord pour g√©rer vos examens.</p>
<a href="{{ path('teacher_dashboard') }}" class="btn btn-lg btn-custom px-5 py-2 fw-semibold">
<i class="fa-solid fa-book-open"></i> Mon tableau de bord
</a>
      {% elseif 'ROLE_STUDENT' in app.user.roles %}
<h2 class="fw-bold mb-3">Pr√™t √† relever un d√©fi ?</h2>
<p class="mb-4 text-bright">D√©couvrez vos examens disponibles et mesurez vos progr√®s.</p>
<a href="{{ path('student_exams') }}" class="btn btn-lg btn-custom px-5 py-2 fw-semibold">
<i class="fa-solid fa-brain"></i> Commencer un examen
</a>
      {% endif %}
    {% else %}
<h2 class="fw-bold mb-3">Rejoignez EduTest d√®s aujourd‚Äôhui !</h2>
<p class="mb-4 text-bright">Profitez d‚Äôune exp√©rience d‚Äô√©valuation fluide et intuitive.</p>
<a href="{{ path('app_register') }}" class="btn btn-lg btn-custom px-5 py-2 fw-semibold">
<i class="fa-solid fa-wand-magic-sparkles"></i> Cr√©er un compte gratuit
</a>
    {% endif %}
</div>
</section>
 
{% endblock %}
 
{% block stylesheets %}
{{ parent() }}
<style>
:root {
  --primary: #1e88e5;
  --primary-light: #64b5f6;
  --bg-card: rgba(25, 35, 55, 0.35);
  --border-color: rgba(255, 255, 255, 0.1);
}
 
/* === HERO === */
.hero {
  background: linear-gradient(to right, rgba(10, 15, 30, 0.85), rgba(20, 30, 50, 0.85)),
              url('https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&w=1600&am‚Ä¶ center/cover;
  min-height: 85vh;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #f1f5fa;
}
.text-highlight {
  color: var(--primary-light);
}
 
/* === GENERAL TEXT === */
h1, h2, h3, h4, h5, h6 { color: #f8fafc !important; }
p, li, small, .text-muted { color: #cdd6e3 !important; }
.text-bright { color: #e9f2ff !important; }
 
/* === SECTIONS === */
.features-section { background-color: #111620; }
.stats-section { background: linear-gradient(135deg, #1565c0, #0d47a1); }
.testimonials-section { background-color: #0f1624; }
.cta {
  background: linear-gradient(135deg, #1a237e, #283593);
  box-shadow: inset 0 0 60px rgba(0,0,0,0.4);
  color: #f4f7ff;
}
 
/* === GLASS EFFECT === */
.navbar-custom,
.card-glass {
  background: rgba(18, 26, 41, 0.35);
  backdrop-filter: blur(12px);
  border: 1px solid var(--border-color);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
}
.card-glass {
  border-radius: 1rem;
  transition: all 0.3s ease;
}
.card-glass:hover {
  transform: translateY(-4px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.6);
}
 
/* === BUTTONS === */
.btn-custom {
  background: linear-gradient(135deg, var(--primary), var(--primary-light));
  border: none;
  color: #fff;
  border-radius: 0.6rem;
  transition: all 0.3s ease;
}
.btn-custom:hover {
  background: linear-gradient(135deg, var(--primary-light), #90caf9);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(100, 181, 246, 0.4);
}
.btn-outline-light {
  color: #e8f0ff;
  border: 1px solid rgba(255,255,255,0.25);
}
.btn-outline-light:hover {
  background: var(--primary);
  border-color: var(--primary);
}
 
/* === COUNTERS === */
.counter {
  font-size: 2.5rem;
  color: var(--primary-light);
}
</style>
{% endblock %}
 
{% block javascripts %}
{{ parent() }}
<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<script>
AOS.init({ duration: 800, once: true });
document.querySelectorAll('.counter').forEach(counter => {
  const target = +counter.dataset.count;
  let count = 0;
  const step = target / 60;
  const update = () => {
    count += step;
    counter.textContent = Math.floor(count);
    if (count < target) requestAnimationFrame(update);
    else counter.textContent = target;
  };
  update();
});
</script>
{% endblock %}